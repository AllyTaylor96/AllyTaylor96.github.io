<!DOCTYPE html>
<html lang="en">
<head>
        <title>Speech Recognition: A Pub-level Overview</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <meta name="keywords" content="Speech, ASR, Speech" />
        <meta name="category" content="Speech" />
        <meta name="description" content="A non-technical description of how traditional speech recognition works from the audio file to the decoded text." />
        <meta name="author" content="Alasdair Taylor" />
        <meta name="copyright" content="Alasdair Taylor" />
        <meta name="date" content="2022-11-28 22:09:00+00:00">
        <meta name="robots" content="index,follow">

        <link rel="stylesheet" href="https://allytaylor96.github.io/theme/css/main.css" type="text/css" />

        <!--[if IE]>
                <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://allytaylor96.github.io/css/ie.css"/>
                <script src="https://allytaylor96.github.io/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="https://allytaylor96.github.io/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://allytaylor96.github.io">Taylor: Audio and Speech </a></h1>
                <nav>
                    <a href="https://allytaylor96.github.io/pages/About-Me.html">About Me</a>&nbsp;
                    <a href="https://allytaylor96.github.io/pages/Contact.html">Contact</a>&nbsp;
                    <a href="https://allytaylor96.github.io/category/misc.html">misc</a>&nbsp;
                    <a href="https://allytaylor96.github.io/category/off-topic.html">Off-Topic</a>&nbsp;
                    <a href="https://allytaylor96.github.io/category/speech.html">Speech</a>&nbsp;
                </nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="Speech-recognition-a-pub-level-overview.html" rel="bookmark"
           title="Permalink to Speech Recognition: A Pub-level Overview">Speech Recognition: A Pub-level Overview</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2022-11-28T22:09:00+00:00">
                Mon 28 November 2022
        </abbr>
<p>tags: <a href="https://allytaylor96.github.io/tag/speech.html">Speech</a><a href="https://allytaylor96.github.io/tag/asr.html">ASR</a></p></footer><!-- /.post-info -->      <h3>Introduction</h3>
<p>I've been puzzled trying to think of a subject for the first blog post, but luckily an idea eventually struck.
Whenever I'm asked what I do in my new job and say that I work in automatic speech recognition (or ASR for short), I can see their eyes glaze over.
Typically I try to relate it to speech recognition technologies they've heard of, mentioning prominent voice assistants like Alexa and Siri or describing transcription software.
While they are typically knowledgable of such tech and the conversation typically ends there, a few people have asked exactly what that <em>means</em> or what I <em>do</em>. </p>
<p>This is a harder question to answer off-the-cuff and really requires a more technical explanation than what people can be bothered listening to.
<strong>However</strong>, it's a valuable question to know how to answer, and so I thought it would be worth trying to outline my best non-technical explanation in a short blog post that I can refer to.</p>
<p>Speech recognition is the translation of speech-to-text, and more broadly audio-to-text.
Both audio processing and speech are complex, so it only makes sense that trying to solve this problem is <strong>intensely</strong> complicated.</p>
<p>So where do we start?</p>
<h3>Raw Audio to Features</h3>
<p>Speech for ASR is captured in an audio signal, which is itself just a sequence of digital values that best describe the analogue speech waveform.
This sequence will typically have between 16000 and 48000 values (or samples) per second for a typical audio file.
This is a large amount of information to deal with when thinking of it in data terms, and so the first step of speech recognition is typically <em>extracting relevant features</em> from the audio file.
This sounds more complicated than it is: all we are doing is trying to cut down these huge audio sequences into a more manageable size, without losing the parts of the file that are relevant for us to parse human speech.</p>
<p>Without getting bogged down in technical details, a good way of doing this is through <em>Mel-Frequency Cepstral Coefficients (or MFCCs for short)</em>.
This is a way of representing audio that better represents the human auditory system, and thanks to the fact that speech has <strong>evolved</strong> specifically to be heard by the human ear, it turns out that MFCC's are a really good way of representing speech sounds too.
However, this raises a relevant question: what is this mythical 'speech sound' we are looking for?</p>
<p>The answer to this lies in linguistics: I am not a linguist, so will keep this part short before I embarrass myself.
Words are made up of distinct small building blocks of sound called <strong>phones</strong> - as an example, the word 'cat' can be thought of as three distinct phones ('k', 'ae', 't'), while the word 'bat' can be thought of as sharing all but one of these phones ('b', 'ae', 't').
As these are the core differentiator in words, if we can accurately tell what phone is being made at any given point in the sequence of MFCCs, we can (hopefully) start telling apart words.</p>
<p>Knowing all this, we want to convert the sequence of audio samples into a sequence of MFCCs that better represent these blocks of speech.
We can choose how large a time-period these MFCCs cover - a relatively standard length is ~20ms.
These become our 'features'.</p>
<h3>Turning Features into an Acoustic Model</h3>
<p>At this point, we have converted our huge sequence of audio samples into a more managable sequence of 20ms speech features.
However, this is the tip of the iceberg.
Let's say we have an input file of audio we are wanting to transcribe, and we convert it as above into a sequence of MFCCs and take the first one.
We need to have a system that will determine what speech sound is 'most alike' to the MFCC in the input: this is where we need to determine the <strong>statistically most likely</strong> speech sound is given the input feature.
This is called the <em>acoustic</em> model, and is a very important component in decoding speech.
I won't go into detail here about Hidden Markov Models and the statistical methods for doing so, but in a grand scale it involves comparing with previous examples of the speech sound in question and spitting out a probability for each.</p>
<p>The desired output of this system tells us the most likely speech sound for every 20ms feature, giving us a sequence of the most likely speech sound in each 20ms frame of audio input!
This brings us closer and closer to decoding the file into speech.</p>
<h3>Above the Acoustic Model - The Lexicon</h3>
<p>We are missing some key information at this point: we have no idea what specific speech sounds make up words!
This is where something called a <em>lexicon</em> is needed - this can be thought of as a database for a language where it displays every valid word that can be transcribed, alongside the possible combinations of speech sounds that make up that word.
This can help account for accents too - think of the word tomato being pronounced as either 'tomayto' or 'tomahto'.
One can build that into a lexicon so that both pronounciations would be accepted and transcribed as the written word tomato.</p>
<h3>And Above the Lexicon - The Language Model</h3>
<p>At this point you may be thinking we must have everything that we need to transcribe speech from an audio input.
We have a sequence of the most likely speech sounds, and we have a way to assemble those into words.
However, if a speech recognition system just used the acoustic model and didn't care about the actual sentences it was producing, it would be terrible.</p>
<p>If you take your phone and ask Siri or Alexa the nonsense phrase 'Blay me a song', it will automatically assume you meant to say 'Play me a song', no matter how hard you try to pronounce the 'B' sound at the start of 'Blay'.
The reason for this is something called the <em>Language Model</em> - this is a component of the overall speech system that tries to produce reasonable English sentences.
It looks at a wider window of the speech sounds and considers what the most likely <strong>sequence</strong> of words is given the words around it.
The human brain will do this automatically: if you're in a bar and someone asks 'What would you like to dr[UNINTELLIGIBLE]?', you can make a fair assumption that they're asking for a drink order and not what you would like to drive, for instance.
The language model uses the same context to try and decide what a reasonable transcription would be.</p>
<h3>Bringing It All Together</h3>
<p>So at this point, we have a dense and complex system that balances up the most likely speech sounds detected, the most likely words they can make up and the likelihood of the overall utterance.
The final system will balance up these likelihoods with different weights assigned to each to decide the most likely transcription given the audio input.
This part is actually one of the hardest problems to solve, as it requires picking a suitable search algorithm that can quickly and accurately figure out what the most likely sequence of words is at every time step of audio input.
This is slightly too in-depth for the purposes of this post, and so we can safely assume that <em>an algorithm</em> is used that sorts this out for us.</p>
<p>This is the basis of traditional speech recognition: even some modern systems still use a framework similar to this.
However, a huge amount of ASR has been replaced by machine learning, deep learning and AI which replaces and transforms a lot of these 'traditional' steps.
This type of detail is best saved for another blog post.</p>
<p>After reading this post, I hope you have a slightly better idea of what goes into speech recognition and haven't been overwhelmed.
I have attached a diagram that displays the speech recognition pipeline in full below (provided from the <a href="https://subscription.packtpub.com/book/application-development/9781783287536/8/ch08lvl1sec47/understanding-speech-recognition">attached link</a>) and it makes a little more sense than it would have done at the start!</p>
<p><center>
<img alt="my_image" src="/img/speech_diag.png" title="ASR Pipeline">
</center></p>
<h3>Note From Alasdair</h3>
<p>I have left out far more detail than I have included: speech recognition is an entire field of industry and research and it's impossible to summarize in a &lt;1500 word blog post from a fresh-faced graduate.
It is a highly technical subject rooted in Mathematics, Statistics and Linguistics. 
If the content of the post has interested you at all, there are fantastic other resources that can be accessed: I personally think <a href="https://en.wikipedia.org/wiki/Speech_recognition">the Wikipedia page for speech recognition</a> is a surprisingly good place for an overview for an unfamiliar reader.
For true rigour, <a href="https://books.google.co.uk/books/about/Speech_and_Language_Processing.html?id=fZmj5UNK8AQC&amp;source=kp_book_description&amp;redir_esc=y">Jurafsky and Martin's 'Speech and Language Processing'</a> can be thought of as a bible for not only speech recognition, but all fields of speech and text processing.</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="https://www.linkedin.com/in/alasdair-taylor-456b56187/">LinkedIn</a></li>
                            <li><a href="https://github.com/AllyTaylor96">Github</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                     Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="https://www.python.org/">Python</a>. Theme is using <a href="https://github.com/getpelican/pelican-themes" target="_blank">cebong</a>.
                </address><!-- /#about -->

        </footer><!-- /#contentinfo -->

</body>
</html>